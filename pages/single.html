<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <title>Game</title>
     <style>
          #frame {
               width: -webkit-fill-available;
               height: 100%;
               display: flex;
          }
     </style>
</head>

<body>
     <div id="frame"></div>
     <script src="https://code.jquery.com/jquery-1.11.1.js"></script>

     <!-- three.js -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/109/three.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
     <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/264161/OrbitControls.js"></script>
     <script>
          readFile('/txt/story.txt');
          $("#frame").load("/game_single", {});

          var story = [];

          function readFile(file) {
               let xhr = new XMLHttpRequest();
               xhr.open('GET', file);

               // request state change event
               xhr.onreadystatechange = function () {

                    // request completed?
                    if (xhr.readyState !== 4) return;

                    if (xhr.status === 200) {
                         // request successful - show response
                         story = xhr.responseText.split('\n');
                    } else {
                         // request error
                         console.log('HTTP error', xhr.status, xhr.statusText);
                    }
               };

               xhr.send();
          }
     </script>
</body>

</html>